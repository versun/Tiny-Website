---
import SubPage from "../../layouts/SubPage.astro";

const weekly_posts = (await Astro.glob('../weekly/*.{md,mdx}')).filter((post) => !post.frontmatter.draft).sort(
	(a, b) => new Date(b.frontmatter.created).valueOf() - new Date(a.frontmatter.created).valueOf()
);
---
<SubPage title="Weekly">
    {weekly_posts.map((post) => (
      <div class="my-2"> 
					<div class="is-size-7 has-text-grey">
          <time datetime={post.frontmatter.created}>
            {new Date(post.frontmatter.created).toLocaleDateString('zh-cn', {
              year: 'numeric',
              month: '2-digit',
              day: '2-digit',
            })}
          </time>
          </div>
          <a href={post.url}>{post.frontmatter.title}</a>
      </div>
    ))}
</SubPage>
