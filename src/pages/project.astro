---
import Layout from "../layouts/Layout.astro";
import Navgation from "../components/navigation.astro";
import Footer from "../components/footer.astro";

const posts = (await Astro.glob('./project/*.{md,mdx}')).filter((post) => !post.frontmatter.draft).sort(
	(a, b) => new Date(b.frontmatter.created).valueOf() - new Date(a.frontmatter.created).valueOf()
);
---
<Layout title="Project">
  <Navgation />
    <section>
      <div class="container content">
        <h1 class="title">Project</h1>
        <p class="has-text-grey is-small">In Progress:🔨 | On Hold:⏳ | Completed:✔️</p>
        
          {posts.map((post) => (
            <div>
              <span class="icon">{post.frontmatter.status}</span>
              <time datetime={post.frontmatter.created}>
                {new Date(post.frontmatter.created).toLocaleDateString('zh-cn', {
                  year: 'numeric',
                  month: '2-digit',
                  day: '2-digit',
                })}
              </time>
              
              <a href={post.url}>{post.frontmatter.title}</a>
            </div>
          ))}
      </div>
    </section>
  <Footer />
</Layout>